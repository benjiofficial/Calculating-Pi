<!DOCTYPE html><html><head><meta charset="utf-8"><title>Calculating-Pi</title>

  <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="main.css">
    </head>
    <body>
        <h1 style="color: white; text-align: center; line-height: 3rem; font-weight: 400">Calculating Pi</h1><br>

        <div class="whitebg">
    <h2 style="padding-left: 5%;">The Formula</h2>
    <img src="image001.png" height="60px" style="padding-left: 7%;">
    <h3 style="padding-left: 5%;">Where: </h3>
    <img src="image003.png" height="80px" style="padding-left: 7%;"> <br>
    <img src="image005.png" height="100px" style="padding-left: 7%;"> <br>


<h2 style="padding-left: 5%;">Code for the Formula Only</h2><br>
<center><a class="Download" href="https://github.com/benjiofficial/Calculating-Pi" style="margin-left: 5%;">Download Source Code</a>&nbsp &nbsp<a class="Download" href="https://github.com/benjiofficial/Calculating-Pi/releases" >Download Release</a></center><br>
<br><pre><code class="language-c++">          <span class="hljs-preprocessor">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;gmpxx.h&gt;</span> //GMP library</span>
          <span class="hljs-preprocessor">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cstdio&gt;</span> // For Printing to file</span><br>
          <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span> <span class="hljs-params">()</span> <span class="hljs-comment">//Start main function</span>
          </span>{
          <span class="hljs-comment">&nbsp &nbsp //Set precision as variabels</span>
          <span class="hljs-keyword">&nbsp &nbsp int</span> prec = <span class="hljs-number">10485760</span>;
          <span class="hljs-keyword">&nbsp &nbsp int</span> loops = <span class="hljs-number">20</span>;
          <span class="hljs-comment">&nbsp &nbsp //Tell GMP the precision needed</span>
          &nbsp &nbsp mpf_set_default_prec(prec);
          <span class="hljs-comment">&nbsp &nbsp //Decalre variables (including temporary ones)</span>
          &nbsp &nbsp mpf_class a, b, t, a_next, b_next, t_next, temp, pi;
          <span class="hljs-comment"> &nbsp &nbsp //Assign values to variables</span>
          &nbsp &nbsp a = <span class="hljs-number">1</span>;
          &nbsp &nbsp b = <span class="hljs-number">0.5</span>; <span class="hljs-comment">//set value to half and then square root</span>
          &nbsp &nbsp mpf_sqrt(b.<span class="hljs-keyword">get_mpf_t</span>(), b.<span class="hljs-keyword">get_mpf_t</span>()); <span class="hljs-comment">//square root</span>
          &nbsp &nbsp t = <span class="hljs-number">0.25</span>;
          <span class="hljs-keyword"> &nbsp &nbsp long</span> <span class="hljs-keyword">int</span> p = <span class="hljs-number">1</span>;
          <span class="hljs-comment"> &nbsp &nbsp /*
                Create loop and loop counter (n)
                */</span>
          <span class="hljs-keyword">&nbsp &nbsp for</span>(<span class="hljs-keyword">int</span> n = <span class="hljs-number">0</span>; n &lt; loops; n++) <span class="hljs-comment">//n++ increments n. so on every loop it increases in by 1</span>
          &nbsp &nbsp {
            &nbsp &nbsp &nbsp &nbsp<span class="hljs-comment">//Set next values according to Gauss-Legendre formula</span>
            &nbsp &nbsp &nbsp &nbsp a_next = (a + b)/<span class="hljs-number">2</span>;
            &nbsp &nbsp &nbsp &nbsp b_next = (a * b);
            &nbsp &nbsp &nbsp &nbsp mpf_sqrt(b_next.<span class="hljs-keyword">get_mpf_t</span>(), b_next.<span class="hljs-keyword">get_mpf_t</span>());
            &nbsp &nbsp &nbsp &nbsp temp = a - a_next;
            &nbsp &nbsp &nbsp &nbsp t_next = t - p * temp * temp;
            &nbsp &nbsp &nbsp &nbsp<span class="hljs-comment">//Set values of old variables to values of new variables</span>
            &nbsp &nbsp &nbsp &nbsp a = a_next;
            &nbsp &nbsp &nbsp &nbsp b = b_next;
            &nbsp &nbsp &nbsp &nbsp t = t_next;
            &nbsp &nbsp &nbsp &nbsp p = <span class="hljs-number">2</span> * p;
            &nbsp }
          <span class="hljs-comment">&nbsp &nbsp //Final Maths</span>
          &nbsp &nbsp temp = (a + b) / <span class="hljs-number">2</span>;
          &nbsp &nbsp pi = temp * temp / t;
          &nbsp &nbsp <span class="hljs-comment">// Print to console</span>
          &nbsp &nbsp gmp_printf (<span class="hljs-string">"%.100Ff\n"</span>, pi.<span class="hljs-keyword">get_mpf_t</span>());
          &nbsp &nbsp <span class="hljs-comment">// Open file</span>

          &nbsp &nbsp FILE *fp;
          &nbsp &nbsp fp = fopen(<span class="hljs-string">"pi.txt"</span>,<span class="hljs-string">"w"</span>);
          &nbsp &nbsp gmp_fprintf(fp, <span class="hljs-string">"%0.1048576Ff\n"</span>, pi.<span class="hljs-keyword">get_mpf_t</span>());
          &nbsp &nbsp <span class="hljs-comment">// End Code</span>
          &nbsp &nbsp <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
          }
</code></pre>


<h2 style="padding-left: 5%;">Contributing</h2>
<p style="padding-left: 5%;">I am open to any ideas, if you have please send them to <a href="mailto:blearb.github@outlook.com" style="text-decoration: none; color: #1976D2">blearb.github@outlook.com</a></p>
<h2 style="padding-left: 5%;">Author</h2>
<p style="padding-left: 5%;">The code and website were designed and written by Benjamin Brown.<br></p>
</div>
</body></html>

